{"version":3,"sources":["components/Profile/ProfileForm.module.css","components/Layout/MainNavigation.module.css","components/Profile/UserProfile.module.css","components/StartingPage/StartingPageContent.module.css","store/authContext.js","components/Layout/MainNavigation.js","components/Layout/Layout.js","utils/constans/general.jsx","components/Profile/ProfileForm.js","components/Profile/UserProfile.js","components/Auth/AuthForm.js","pages/AuthPage.js","components/StartingPage/StartingPageContent.js","pages/HomePage.js","App.js","index.js","components/Auth/AuthForm.module.css"],"names":["module","exports","authContext","React","createContext","token","isLoggedIn","login","logout","AuthContextProvider","props","useState","setToken","contextValue","Provider","value","children","MainNavigation","authCtx","useContext","className","classes","header","to","logo","onClick","Layout","SECRET_KEY","ProfileForm","newPasswordInputRef","useRef","history","useHistory","onSubmit","event","preventDefault","enteredNewPassword","current","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","response","console","log","replace","catch","error","form","control","htmlFor","type","id","minLength","ref","action","UserProfile","profile","AuthForm","isLogin","setIsLogin","isLoadin","setIsLoading","emailInputRef","passwordInputRef","auth","url","enteredEmail","enteredPassword","email","ok","json","data","errorMessage","message","Error","alert","err","required","actions","toggle","prevState","AuthPage","StartingPageContent","starting","HomePage","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4eac48f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__mvqos\",\"control\":\"ProfileForm_control__1Gqaw\",\"action\":\"ProfileForm_action__1Dpnx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__3X5dZ\",\"logo\":\"MainNavigation_logo__1vWEG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__3q0SO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPageContent_starting__1frKN\"};","import React from 'react'\r\nimport { useState } from 'react'\r\nexport const authContext = React.createContext({\r\n\t// email:'',\r\n\ttoken: '',\r\n\tisLoggedIn: false,\r\n\tlogin: (token) => {},\r\n\tlogout: () => {},\r\n})\r\nexport const AuthContextProvider = (props) => {\r\n\tconst [token, setToken] = useState(null)\r\n\r\n\tconst userIsLoggedIn = !!token\r\n\r\n\tconst loginHandler = (token) => {\r\n\t\tsetToken(token)\r\n\t}\r\n\tconst logoutHandler = () => {\r\n\t\tsetToken(null)\r\n\t}\r\n\r\n\tconst contextValue = {\r\n\t\ttoken: token,\r\n\t\tisLoggedIn: userIsLoggedIn,\r\n\t\tlogin: loginHandler,\r\n\t\tlogout: logoutHandler,\r\n\t}\r\n\treturn (\r\n\t\t<authContext.Provider value={contextValue}>\r\n\t\t\t{props.children}\r\n\t\t</authContext.Provider>\r\n\t)\r\n}\r\n","import { Link } from 'react-router-dom'\nimport { useContext } from 'react'\nimport { authContext } from '../../store/authContext'\n\nimport classes from './MainNavigation.module.css'\n\nconst MainNavigation = () => {\n\tconst authCtx = useContext(authContext)\n\n\tconst isLoggedIn = authCtx.isLoggedIn\n\n  const logoutHandler=()=>{\n   authCtx.logout()\n  }\n\treturn (\n\t\t<header className={classes.header}>\n\t\t\t<Link to='/'>\n\t\t\t\t<div className={classes.logo}>React Auth</div>\n\t\t\t</Link>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t{!isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/auth'>Login</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to='/profile'>Profile</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button onClick={logoutHandler}>Logout</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</header>\n\t)\n}\n\nexport default MainNavigation\n","import { Fragment } from 'react';\n\nimport MainNavigation from './MainNavigation';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainNavigation />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","export const SECRET_KEY = 'AIzaSyDguANr3nSydaMFK070Icw5FFTDA7l09UQ'\r\n","import { useRef, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { authContext } from '../../store/authContext'\nimport { SECRET_KEY } from '../../utils/constans/general'\nimport classes from './ProfileForm.module.css'\n\nconst ProfileForm = () => {\n\tconst newPasswordInputRef = useRef()\n\tconst authCtx = useContext(authContext)\n  const history = useHistory()\n\n\tconst submitHandler = (event) => {\n\t\tevent.preventDefault()\n    const enteredNewPassword = newPasswordInputRef.current.value;\n    fetch(`https://identitytoolkit.googleapis.com/v1/accounts:update?key=${SECRET_KEY}`,{\n      method: 'POST',\n      body: JSON.stringify({\n        idToken: authCtx.token,\n        password: enteredNewPassword,\n        returnSecureToken: false\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    }).then((response) =>{\n      console.log(response);\n      history.replace('/')\n    })\n    .catch((error)=>{}) \n\t}\n\n\treturn (\n\t\t<form onSubmit={submitHandler} className={classes.form}>\n\t\t\t<div className={classes.control}>\n\t\t\t\t<label htmlFor='new-password'>New Password</label>\n\t\t\t\t<input type='password' id='new-password' minLength={7} ref={newPasswordInputRef} />\n\t\t\t</div>\n\t\t\t<div className={classes.action}>\n\t\t\t\t<button>Change Password</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default ProfileForm\n","import ProfileForm from './ProfileForm';\nimport classes from './UserProfile.module.css';\n\nconst UserProfile = () => {\n  return (\n    <section className={classes.profile}>\n      <h1>Your User Profile</h1>\n      <ProfileForm />\n    </section>\n  );\n};\n\nexport default UserProfile;\n","import { useState, useRef, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { authContext } from '../../store/authContext'\n\nimport { SECRET_KEY } from '../../utils/constans/general'\n\nimport classes from './AuthForm.module.css'\n\nconst AuthForm = () => {\n\tconst history = useHistory()\n\tconst [isLogin, setIsLogin] = useState(true)\n\tconst [isLoadin, setIsLoading] = useState(false)\n\tconst emailInputRef = useRef()\n\tconst passwordInputRef = useRef()\n\tconst authCtx = useContext(authContext)\n\tconst switchAuthModeHandler = () => {\n\t\tsetIsLogin((prevState) => !prevState)\n\t}\n\tconst submitHandler = (event) => {\n\t\tevent.preventDefault()\n\t\tconst enteredEmail = emailInputRef.current.value\n\t\tconst enteredPassword = passwordInputRef.current.value\n\t\t//todo add validation\n\t\tsetIsLoading(true)\n\t\tlet url\n\t\tif (isLogin) {\n\t\t\turl = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${SECRET_KEY}`\n\t\t\tfetch(url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\temail: enteredEmail,\n\t\t\t\t\tpassword: enteredPassword,\n\t\t\t\t\treturnSecureToken: true,\n\t\t\t\t}),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\treturn response.json\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.json().then((data) => {\n\t\t\t\t\t\t\tlet errorMessage = 'oshibka'\n\t\t\t\t\t\t\tif (data && data.error && data.error.message) {\n\t\t\t\t\t\t\t\terrorMessage = data.error.message\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\tthrow new Error(errorMessage)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((data) => {\n\t\t\t\t\tauthCtx.login(data.idToken)\n\t\t\t\t\thistory.replace('/')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\talert(error.message)\n\t\t\t\t})\n\t\t} else {\n\t\t\turl = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${SECRET_KEY}`\n\t\t\tfetch(url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\temail: enteredEmail,\n\t\t\t\t\tpassword: enteredPassword,\n\t\t\t\t\treturnSecureToken: true,\n\t\t\t\t}),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetIsLoading(false)\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\treturn response.json()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse.json().then((data) => {\n\t\t\t\t\t\t\tlet errorMessage = 'Authenticatin failed'\n\t\t\t\t\t\t\tif (data && data.error && data.error.message) {\n\t\t\t\t\t\t\t\terrorMessage = data.error.message\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthrow new Error(errorMessage)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then((data) => {\n\t\t\t\t\tauthCtx.login(data.idToken)\n\t\t\t\t\thistory.replace('/')\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\talert(err.message)\n\t\t\t\t})\n\t\t}\n\t}\n\treturn (\n\t\t<section className={classes.auth}>\n\t\t\t<h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n\t\t\t<form onSubmit={submitHandler}>\n\t\t\t\t<div className={classes.control}>\n\t\t\t\t\t<label htmlFor='email'>Your Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={emailInputRef}\n\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\tid='email'\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.control}>\n\t\t\t\t\t<label htmlFor='password'>Your Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={passwordInputRef}\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tid='password'\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t{!isLoadin && (\n\t\t\t\t\t\t<button>{isLogin ? 'Login' : 'Create Account'}</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoadin && <p>sending request...</p>}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tclassName={classes.toggle}\n\t\t\t\t\t\tonClick={switchAuthModeHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isLogin\n\t\t\t\t\t\t\t? 'Create new account'\n\t\t\t\t\t\t\t: 'Login with existing account'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</section>\n\t)\n}\n\nexport default AuthForm\n","import AuthForm from '../components/Auth/AuthForm';\n\nconst AuthPage = () => {\n  return <AuthForm />;\n};\n\nexport default AuthPage;\n","import classes from './StartingPageContent.module.css';\n\nconst StartingPageContent = () => {\n  return (\n    <section className={classes.starting}>\n      <h1>Welcome on Board!</h1>\n    </section>\n  );\n};\n\nexport default StartingPageContent;\n","import StartingPageContent from '../components/StartingPage/StartingPageContent';\n\nconst HomePage = () => {\n  return <StartingPageContent />;\n};\n\nexport default HomePage;\n","import { Switch, Route } from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout';\nimport UserProfile from './components/Profile/UserProfile';\nimport AuthPage from './pages/AuthPage';\nimport HomePage from './pages/HomePage';\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path='/' exact>\n          <HomePage />\n        </Route>\n        <Route path='/auth'>\n          <AuthPage />\n        </Route>\n        <Route path='/profile'>\n          <UserProfile />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthContextProvider } from './store/authContext'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n\t<AuthContextProvider>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</AuthContextProvider>,\n\tdocument.getElementById('root'),\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__1lvgI\",\"control\":\"AuthForm_control__1HktC\",\"actions\":\"AuthForm_actions__2FdCn\",\"toggle\":\"AuthForm_toggle__1ev71\"};"],"sourceRoot":""}